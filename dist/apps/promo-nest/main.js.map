{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///external commonjs \"tslib\"","webpack:///external commonjs \"@nestjs/common\"","webpack:///external commonjs \"@nestjs/core\"","webpack:///external node-commonjs \"path\"","webpack:///external commonjs \"nunjucks\"","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.controller.ts","webpack:///./src/app/app.service.ts","webpack:///external commonjs \"@nestjs/axios\"","webpack:///external commonjs \"rxjs\"","webpack:///webpack/bootstrap","webpack:///./src/main.ts"],"sourcesContent":["module.exports = require(\"tslib\");","module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"path\");","module.exports = require(\"nunjucks\");","export const environment = {\n  production: false,\n};\n","import { Module } from '@nestjs/common';\n\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { HttpModule } from '@nestjs/axios';\n\n@Module({\n  imports: [\n    HttpModule.register({\n      timeout: 5000,\n      maxRedirects: 5,\n    }),\n  ],\n  controllers: [AppController],\n  providers: [AppService],\n})\nexport class AppModule {}\n","import { Controller, Get, Render } from '@nestjs/common';\n\nimport { environment } from '../environments/environment';\nimport { AppService } from './app.service';\n\n@Controller()\nexport class AppController {\n  private readonly WEBPACK_DEV_URL = 'http://localhost:3001';\n\n  private readonly STATIC_PREFIX = environment.production ? '/' : this.WEBPACK_DEV_URL + '/assets/';\n\n  constructor(private appService: AppService) {}\n\n  @Get()\n  @Render('index')\n  async getData() {\n    const topics = await this.appService.getTopics();\n    return {\n      title: 'TITLE',\n      message: 'MESSAGE',\n      items: [1,2,3,4,5],\n      topics,\n      STATIC_PREFIX: this.STATIC_PREFIX,\n    };\n  }\n}\n","import { Injectable } from '@nestjs/common';\nimport { HttpService } from '@nestjs/axios';\nimport { BaseResponse, QuestionTopic } from './app.models';\nimport { firstValueFrom, map } from 'rxjs';\n\n@Injectable()\nexport class AppService {\n  private readonly baseUrl = 'https://api.baranka.dev';\n\n  constructor(private readonly httpService: HttpService) {}\n\n  async getTopics(): Promise<QuestionTopic[]> {\n    return firstValueFrom(\n      this.httpService\n        .get<BaseResponse<{ topics: QuestionTopic[] }>>(\n          `${this.baseUrl}/api/v1/pdd/topics`\n        )\n        .pipe(map((response) => response.data.data?.topics ?? []))\n    );\n  }\n}\n","module.exports = require(\"@nestjs/axios\");","module.exports = require(\"rxjs\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * This is not a production server yet!\n * This is only a minimal backend to get started.\n */\n\nimport { Logger } from '@nestjs/common';\nimport { NestFactory } from '@nestjs/core';\nimport { NestExpressApplication } from '@nestjs/platform-express';\nimport { join } from 'path';\nimport * as nunjucks from 'nunjucks';\n\nimport { environment } from './environments/environment';\n\nimport { AppModule } from './app/app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\n\n  const minifierOptions = {\n    removeComments: true,\n    removeCommentsFromCDATA: true,\n    collapseWhitespace: true,\n    collapseBooleanAttributes: true,\n    removeAttributeQuotes: true,\n    removeEmptyAttributes: true,\n  };\n\n  const viewEngine = nunjucks.configure(\n    [\n      join(__dirname, 'views'),\n    ],\n    {\n      autoescape: true,\n      throwOnUndefined: false,\n      trimBlocks: false,\n      lstripBlocks: false,\n      watch: true,\n      noCache: environment.production ? true : false,\n      express: app\n    }\n  );\n\n  app.engine('njk', viewEngine.render);\n  app.setViewEngine('njk');\n  // app.s\n  // app.setViewEngine({\n  //   engine: {\n  //     nunjucks: require('nunjucks'),\n  //   },\n  //   templates: views,\n  //   options: {\n  //     useHtmlMinifier: minifier,\n  //     htmlMinifierOptions: minifierOptions,\n  //   },\n  // });\n  app.setBaseViewsDir(join(__dirname, 'views'));\n  app.useStaticAssets(join(__dirname, 'assets'));\n\n  const port = process.env.PORT || 3000;\n  await app.listen(port);\n  Logger.log(\n    `ðŸš€ Application is running on: http://localhost:${port}`\n  );\n}\n\nbootstrap();\n"],"names":[],"sourceRoot":""}